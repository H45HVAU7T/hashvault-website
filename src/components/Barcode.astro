---
const { value } = Astro.props;
---

<svg id="barcode"></svg>

{/* Load JsBarcode from CDN */}
<script
  src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"
  is:inline></script>

<style>
  svg#barcode {
    background-color: transparent;
    padding-inline: calc(var(--spacing) * 0);
  }
</style>

<script is:inline define:vars={{ value }}>
  window.addEventListener("DOMContentLoaded", () => {
    JsBarcode("#barcode", value, {
      format: "CODE128",
      lineColor: "#EFD9FF", // Pink bar color
      background: "transparent", // Transparent background
      width: 1.5,
      height: 45,
      displayValue: false,
      margin: 0,
    });
  });
</script>
