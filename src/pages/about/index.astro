---
import MorseCode from "../../components/MorseCode.astro";
import MainLayout from "../../layouts/MainLayout.astro";
import TeamCard from "../../components/TeamCard.astro";
import CameraBackground from "@/assets/camera.png";
import LockBackground from "@/assets/lock.png";
import { Image } from "astro:assets";

import { teams } from "./teams.ts";
---

<MainLayout>
  <div class="flex flex-col gap-2 lg:gap-2 lg:px-12 lg:py-6">
    {/* WHO WE ARE */}
    <h1
      class="border-hash-purple font-brutal border-2 py-2 text-center text-4xl font-black lg:border-0 lg:py-0 lg:text-left lg:text-5xl"
    >
      WHO WE ARE
    </h1>

    <div class="relative h-[20rem] overflow-hidden">
      {/* Background Image and Overlay */}
      <div class="absolute inset-0 z-0">
        <div class="relative h-full w-full">
          <Image
            src={CameraBackground}
            alt="Camera Background"
            priority
            format="avif"
            class="pointer-events-none h-full w-full object-cover object-[0px_23%] opacity-0 transition-opacity duration-200"
            aria-hidden="true"
            onload="this.style.opacity='1'"
          />
        </div>
        <div class="bg-hash-purple/10 absolute inset-0 backdrop-brightness-90">
        </div>
      </div>

      {/* Foreground Content */}
      <div class="relative z-10 flex h-full justify-between p-2 lg:p-4">
        <div
          class="border-hash-black bg-hash-purple hidden h-fit w-full self-center border-2 p-2 lg:ml-12 lg:block lg:w-fit lg:p-4"
        >
          <h2
            class="text-hash-black font-brutal text-xl font-black lg:text-3xl lg:[writing-mode:sideways-lr]"
          >
            H45HVAU7T
          </h2>
        </div>

        {/* Blurred content box */}
        <div
          class="border-hash-black bg-hash-black/50 glass-noise self-end border-2 p-2 backdrop-blur-md lg:w-2xl lg:p-4"
        >
          <p class="text-justify font-mono text-xs font-bold lg:text-base">
            We're a community of cyber enthusiasts fuelled by curiosity, driven
            by purpose, and united by the mission to make the digital world
            safer.
          </p>
        </div>
      </div>
    </div>

    <div class="hidden py-4 lg:block">
      <MorseCode
        code=".-- . .----. .-. .       -. --- -       .--- ..- ... -       .... .- -.-. -.- . .-. ... --..--       .-- . .----. .-. .       .-       -.-. ..- .-.. - ..- .-. ."
      />
    </div>

    <div class="grid grid-rows-1 gap-4 lg:grid-cols-3">
      <div
        class="border-hash-purple flex flex-col justify-between gap-4 border-2 p-4 text-justify font-mono text-xs lg:col-span-2 lg:text-base"
      >
        <p>
          Hashvault is a student-driven cybersecurity club with a clear mission:
          To empower students with cybersecurity knowledge and make it
          accessible to everyone.
        </p>
        <p>
          We learn by doing — from cracking CTFs and exploring offensive
          security, to defending systems and understanding real-world threats.
        </p>
        <p>
          We help those who are interested take their first steps, backed by an
          incredible network of alumni already making waves in the cybersecurity
          world.
        </p>
        <p>We're not just hackers — we're a culture.</p>
      </div>
      <div
        class="border-hash-purple inline-block border-2 p-2 font-mono text-xs tracking-widest text-white lg:p-4 lg:text-base"
      >
        <table class="w-full table-auto border-collapse">
          <tbody>
            {/* Row 1 */}
            <tr class="border-hash-purple border-b-2">
              <td class="px-4 py-2">NAME</td>
              <td class="px-4 py-2 text-right">HASHVAULT</td>
            </tr>

            {/* Row 2 */}
            <tr class="border-hash-purple border-b-2">
              <td class="px-4 py-2">FOUNDED</td>
              <td class="px-4 py-2 text-right">05 / 06 / 2024</td>
            </tr>

            {/* Row 3 */}
            <tr class="border-hash-purple border-b-2">
              <td class="px-4 py-2">FUNCTION</td>
              <td class="px-4 py-2 text-right">CYBERSECURITY</td>
            </tr>

            {/* Row 4 */}
            <tr class="border-hash-purple border-b-2">
              <td class="px-4 py-2">STATUS</td>
              <td
                class="px-4 py-2 text-right text-green-400 drop-shadow-[0px_0px_5px_theme(color-green-400/0.7)]"
                >FUNCTIONAL</td
              >
            </tr>

            {/* Row 5 */}
            <tr>
              <td class="px-4 py-2">MENTAL-STATE</td>
              <td
                class="px-4 py-2 text-right text-red-500 drop-shadow-[0px_0px_5px_theme(color-red-500/0.7)]"
                >LEVEL C</td
              >
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    {/* TEAM */}
    <div class="mt-6 flex w-full flex-col gap-2 lg:mt-12 lg:gap-4">
      <h1
        class="border-hash-purple font-brutal border-2 px-2 py-2 text-center text-4xl font-black lg:border-0 lg:text-5xl"
      >
        MEET OUR TEAM
      </h1>

      <div class="flex flex-col gap-12">
        {
          teams?.map((team) => (
            <div>
              <span class="border-hash-purple flex flex-row items-center gap-2 border-2 border-b-0 p-3 font-mono font-bold uppercase">
                <i class={`ph ph-${team.icon} text-xl text-white`} />
                <h2>{team.name}</h2>
              </span>
              <TeamCard members={team.members} />
            </div>
          ))
        }
      </div>
    </div>

    {/* CORE VALUES */}
    <div class="mt-6 flex flex-col gap-4 lg:mt-12"></div>
    <h1
      class="border-hash-purple font-brutal border-2 px-2 py-2 text-center text-4xl font-black lg:hidden lg:border-0 lg:text-left lg:text-5xl"
    >
      CORE VALUES
    </h1>

    <div class="relative h-[20rem]">
      {/* Background + Overlay */}
      <div class="absolute inset-0 z-0">
        <div class="relative h-full w-full">
          <Image
            src={LockBackground}
            alt="Lock Background"
            format="avif"
            class="pointer-events-none h-full w-full object-cover opacity-0 transition-opacity duration-200"
            aria-hidden="true"
            onload="this.style.opacity='1'"
          />
        </div>
        <div class="bg-hash-purple/10 absolute inset-0 backdrop-brightness-90">
        </div>
      </div>

      {/* Foreground Content */}
      <div class="relative z-10 flex h-full justify-between p-2 lg:p-4">
        {/* Blurred content box */}
        <div
          class="border-hash-black bg-hash-black/50 glass-noise self-end border-2 p-2 backdrop-blur-md lg:w-2xl lg:p-4"
        >
          <p class="text-justify font-mono text-xs font-bold lg:text-base">
            We believe the best learning happens when you're uncomfortable. At
            HashVault, we encourage questions, exploration, and the hunger to
            dig deeper—because true hackers are never satisfied with
            surface-level answers.
          </p>
        </div>

        <div
          class="border-hash-black bg-hash-purple hidden h-fit w-full self-center border-2 p-2 lg:mr-12 lg:block lg:w-fit lg:p-4"
        >
          <h2
            class="text-hash-black font-brutal text-xl font-black lg:text-3xl lg:[writing-mode:sideways-lr]"
          >
            CORE VALUES
          </h2>
        </div>
      </div>
    </div>
    <div
      class="border-hash-purple flex flex-col gap-4 border-2 p-4 font-mono text-sm"
    >
      <div class="flex flex-col gap-1">
        <h3 class="font-brutal text-2xl font-black uppercase">
          CURIOUS BY DEFAULT
        </h3>
        <p class="font-mono">
          We break things open to see how they tick, ask the extra “why,” and
          never settle for copy-paste answers.
        </p>
      </div>
      <div class="flex flex-col gap-1">
        <h3 class="font-brutal text-2xl font-black uppercase">
          ETHICS ABOVE ALL
        </h3>
        <p>
          Power without conscience is just vandalism. Every exploit we craft
          respects privacy, follows responsible disclosure, and leaves systems
          better than we found them.
        </p>
      </div>
      <div class="flex flex-col gap-1">
        <h3 class="font-brutal text-2xl font-black uppercase">
          LEARN → BUILD → SHARE
        </h3>
        <p>
          Knowledge only matters when it's applied and passed on. We experiment,
          document, and publish so the next student starts ahead, not from
          scratch.
        </p>
      </div>
      <div class="flex flex-col gap-1">
        <h3 class="font-brutal text-2xl font-black uppercase">
          TOGETHER WE RISE
        </h3>
        <p>
          Flags are individual, growth is collective. Mentorship, peer reviews,
          and open forums turn rookies into pros faster than any leaderboard
          ever could.
        </p>
      </div>
      <div class="flex flex-col gap-1">
        <h3 class="font-brutal text-2xl font-black uppercase">
          IMPACT OVER EGO
        </h3>
        <p>
          Cool hacks are great; safer digital spaces are better. We measure
          success by the real-world problems we prevent and the communities we
          secure.
        </p>
      </div>
    </div>
  </div>
</MainLayout>
